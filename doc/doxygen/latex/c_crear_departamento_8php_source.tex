\doxysection{c\+Crear\+Departamento.\+php}
\hypertarget{c_crear_departamento_8php_source}{}\label{c_crear_departamento_8php_source}\index{controller/cCrearDepartamento.php@{controller/cCrearDepartamento.php}}
\mbox{\hyperlink{c_crear_departamento_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00007}\mbox{\hyperlink{c_crear_departamento_8php_a9f7ca24786e24b62c75101dbc55583e8}{00007}}\ \ \ \ \ \mbox{\hyperlink{c_crear_departamento_8php_a9f7ca24786e24b62c75101dbc55583e8}{\$idioma}}=isset(\$\_COOKIE[\textcolor{stringliteral}{'idioma'}])\ ?\ \$\_COOKIE[\textcolor{stringliteral}{'idioma'}]\ :\ \textcolor{stringliteral}{'en'};}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00008}00008\ \ \ \ \ require\_once\ \textcolor{stringliteral}{'core/lValidacionFormularios.php'};}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00009}00009\ \ \ \ \ require\_once\ \textcolor{stringliteral}{'config/confDB.php'};}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00010}00010\ \ \ \ \ \textcolor{keywordflow}{if}(isset(\$\_REQUEST[\textcolor{stringliteral}{'volver'}]))\{}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00011}00011\ \ \ \ \ \ \ \ \ \$\_SESSION[\textcolor{stringliteral}{'paginaEnCurso'}]=\$\_SESSION[\textcolor{stringliteral}{'paginaAnterior'}];}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00012}00012\ \ \ \ \ \ \ \ \ \$\_SESSION[\textcolor{stringliteral}{'paginaAnterior'}]=\textcolor{stringliteral}{'wip'};}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00013}00013\ \ \ \ \ \ \ \ \ header(\textcolor{stringliteral}{'Location:\ index.php'});}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00014}00014\ \ \ \ \ \ \ \ \ exit();}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00015}00015\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00016}\mbox{\hyperlink{c_crear_departamento_8php_ac1f06fbd464e825f89f18cb9cf5ba357}{00016}}\ \ \ \ \ define(\textcolor{stringliteral}{'OBLIGATORIO'},\ 1);}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00017}\mbox{\hyperlink{c_crear_departamento_8php_ada9a882d0541da20ee22141a4dab3d38}{00017}}\ \ \ \ \ define(\textcolor{stringliteral}{'TAM\_COD'},\ 3);}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00018}\mbox{\hyperlink{c_crear_departamento_8php_aa802b14c9ad86b575b85687f243deeb3}{00018}}\ \ \ \ \ define(\textcolor{stringliteral}{'MAX\_DESC'},\ 255);}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00019}\mbox{\hyperlink{c_crear_departamento_8php_a4625ef9abbf3ea340960053de8946dd6}{00019}}\ \ \ \ \ define(\textcolor{stringliteral}{'MIN\_DESC'},\ 1);}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00020}\mbox{\hyperlink{c_crear_departamento_8php_aa427a255bfa1659ef0d8822be22836dd}{00020}}\ \ \ \ \ define(\textcolor{stringliteral}{'MAX\_VOLUMEN'},\ PHP\_FLOAT\_MAX);}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00021}\mbox{\hyperlink{c_crear_departamento_8php_adbfe4c6687d14202126d59d4bc3a1870}{00021}}\ \ \ \ \ define(\textcolor{stringliteral}{'MIN\_VOLUMEN'},\ 0);}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00022}\mbox{\hyperlink{c_crear_departamento_8php_a6f63c5a0557f7da205d6d99f947d58b8}{00022}}\ \ \ \ \ \mbox{\hyperlink{c_crear_departamento_8php_a6f63c5a0557f7da205d6d99f947d58b8}{\$aErrores}}=[}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00023}00023\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'codigoDepartamento'}=>\textcolor{keyword}{null},}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00024}00024\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'descripcionDepartamento'}=>\textcolor{keyword}{null},}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00025}00025\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'volumenDepartamento'}=>null}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00026}00026\ \ \ \ \ ];}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00027}\mbox{\hyperlink{c_crear_departamento_8php_ab0dcac058225ef7a9871cdb707b90364}{00027}}\ \ \ \ \ \mbox{\hyperlink{c_crear_departamento_8php_ab0dcac058225ef7a9871cdb707b90364}{\$entradaOK}}=\textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00028}00028\ \ \ \ \ \textcolor{keywordflow}{if}(isset(\$\_REQUEST[\textcolor{stringliteral}{'codigoDepartamento'}]))\{}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00029}00029\ \ \ \ \ \ \ \ \ \$\_REQUEST[\textcolor{stringliteral}{'codigoDepartamento'}]=strtoupper(\$\_REQUEST[\textcolor{stringliteral}{'codigoDepartamento'}]);}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00030}00030\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00031}00031\ \ \ \ \ \textcolor{keywordflow}{if}(isset(\$\_REQUEST[\textcolor{stringliteral}{'crear'}]))\{}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00032}00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{c_crear_departamento_8php_a6f63c5a0557f7da205d6d99f947d58b8}{\$aErrores}}[\textcolor{stringliteral}{'codigoDepartamento'}]=\ \mbox{\hyperlink{classvalidacion_formularios_aea57853b69e9f11c8a6fe0967e09348f}{validacionFormularios::comprobarAlfabetico}}(\$\_REQUEST[\textcolor{stringliteral}{'codigoDepartamento'}],\ \mbox{\hyperlink{c_crear_departamento_8php_ada9a882d0541da20ee22141a4dab3d38}{TAM\_COD}},\ \mbox{\hyperlink{c_crear_departamento_8php_ada9a882d0541da20ee22141a4dab3d38}{TAM\_COD}},\ \mbox{\hyperlink{c_crear_departamento_8php_ac1f06fbd464e825f89f18cb9cf5ba357}{OBLIGATORIO}});}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00033}00033\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{c_crear_departamento_8php_a6f63c5a0557f7da205d6d99f947d58b8}{\$aErrores}}[\textcolor{stringliteral}{'descripcionDepartamento'}]=\ \mbox{\hyperlink{classvalidacion_formularios_aea57853b69e9f11c8a6fe0967e09348f}{validacionFormularios::comprobarAlfabetico}}(\$\_REQUEST[\textcolor{stringliteral}{'descripcionDepartamento'}],\ \mbox{\hyperlink{c_crear_departamento_8php_aa802b14c9ad86b575b85687f243deeb3}{MAX\_DESC}},\ \mbox{\hyperlink{c_crear_departamento_8php_a4625ef9abbf3ea340960053de8946dd6}{MIN\_DESC}},\ \mbox{\hyperlink{c_crear_departamento_8php_ac1f06fbd464e825f89f18cb9cf5ba357}{OBLIGATORIO}});}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00034}00034\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{c_crear_departamento_8php_a6f63c5a0557f7da205d6d99f947d58b8}{\$aErrores}}[\textcolor{stringliteral}{'volumenDepartamento'}]=\ \mbox{\hyperlink{classvalidacion_formularios_afe5a1720a0c252f9c2b493f16175ea5c}{validacionFormularios::comprobarFloat}}(\$\_REQUEST[\textcolor{stringliteral}{'volumenDepartamento'}],\ \mbox{\hyperlink{c_crear_departamento_8php_aa427a255bfa1659ef0d8822be22836dd}{MAX\_VOLUMEN}},\ \mbox{\hyperlink{c_crear_departamento_8php_adbfe4c6687d14202126d59d4bc3a1870}{MIN\_VOLUMEN}},\ \mbox{\hyperlink{c_crear_departamento_8php_ac1f06fbd464e825f89f18cb9cf5ba357}{OBLIGATORIO}});}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00035}00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{c_crear_departamento_8php_a6f63c5a0557f7da205d6d99f947d58b8}{\$aErrores}}[\textcolor{stringliteral}{'codigoDepartamento'}]==\textcolor{keyword}{null})\{}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ \$resultado=\ DepartamentoPDO::buscarPorCodigo(\$\_REQUEST[\textcolor{stringliteral}{'codigoDepartamento'}]);}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\$resultado!=\textcolor{keyword}{null})\{}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{c_crear_departamento_8php_a6f63c5a0557f7da205d6d99f947d58b8}{\$aErrores}}[\textcolor{stringliteral}{'codigoDepartamento'}]=\textcolor{stringliteral}{"{}Este\ código\ de\ departamento\ ya\ está\ en\ uso."{}};}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00040}00040\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00041}00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}(\mbox{\hyperlink{c_crear_departamento_8php_a6f63c5a0557f7da205d6d99f947d58b8}{\$aErrores}}\ as\ \$value)\{}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\$value!=\textcolor{keyword}{null})\{}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{c_crear_departamento_8php_ab0dcac058225ef7a9871cdb707b90364}{\$entradaOK}}=\textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00045}00045\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00046}\mbox{\hyperlink{c_crear_departamento_8php_a7bb53c1c9b9279d79fff3484dba5ff61}{00046}}\ \ \ \ \ \}\textcolor{keywordflow}{else}\{}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00047}00047\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{c_crear_departamento_8php_ab0dcac058225ef7a9871cdb707b90364}{\$entradaOK}}=\textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00048}00048\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00049}\mbox{\hyperlink{c_crear_departamento_8php_a51c9bca007df9e8c593e135caabe3476}{00049}}\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{c_crear_departamento_8php_ab0dcac058225ef7a9871cdb707b90364}{\$entradaOK}})\{}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00050}00050\ \ \ \ \ \ \ \ \ DepartamentoPDO::crearDepartamento(\$\_REQUEST[\textcolor{stringliteral}{'codigoDepartamento'}],\ \$\_REQUEST[\textcolor{stringliteral}{'descripcionDepartamento'}],\ \$\_REQUEST[\textcolor{stringliteral}{'volumenDepartamento'}]);}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00051}00051\ \ \ \ \ \ \ \ \ \$\_SESSION[\textcolor{stringliteral}{'paginaEnCurso'}]=\textcolor{stringliteral}{'mtoDepartamento'};}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00052}00052\ \ \ \ \ \ \ \ \ \$\_SESSION[\textcolor{stringliteral}{'paginaAnterior'}]=\textcolor{stringliteral}{'crearDepartamento'};}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00053}00053\ \ \ \ \ \ \ \ \ header(\textcolor{stringliteral}{'Location:\ index.php'});}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00054}00054\ \ \ \ \ \ \ \ \ exit();}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00055}00055\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00056}00056\ \ \ \ \ require\_once\ \mbox{\hyperlink{conf_a_p_p_8php_a7d5be1d8baec6c38421a0ab65783fd6d}{\$aVistas}}[\textcolor{stringliteral}{'layout'}];}
\DoxyCodeLine{\Hypertarget{c_crear_departamento_8php_source_l00057}00057\ ?>}

\end{DoxyCode}
