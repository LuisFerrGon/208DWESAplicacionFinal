\doxysection{l\+Validacion\+Formularios.\+php}
\label{l_validacion_formularios_8php_source}\index{core/lValidacionFormularios.php@{core/lValidacionFormularios.php}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ <?php}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{class\ }validacionFormularios\ \{\ \ \textcolor{comment}{//ELIMINA\ EL\ METODO\ VALIDATEDATE\ Y\ LO\ INCLUYE\ EN\ VALIDAR\ FECHA,\ ELIMINACION\ DE\ VALIDAR\ CHECKBOX\ Y\ RADIOB,\ MEJORA\ GENERAL\ DE\ RESPUESTA,\ INCLUSION\ DE\ PARAMETROS\ PREDEFINIDOS\ Y\ MEJORAS\ SUSTANCIALES\ EN\ ALGUNOS\ METODOS}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ comprobarAlfabetico(\$cadena,\ \$maxTamanio\ =\ 1000,\ \$minTamanio\ =\ 1,\ \$obligatorio\ =\ 0)\ \{\ \ \textcolor{comment}{//AÑADIDOS\ VALORES\ POR\ DEFECTO\ Y\ MEJORADA\ LA\ RESPUESTA}}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Patrón\ para\ campos\ de\ solo\ texto}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \$patron\_texto\ =\ \textcolor{stringliteral}{"{}/\string^[a-\/zA-\/ZáéíóúÁÉÍÓÚäëïöüÄËÏÖÜàèìòùÀÈÌÒÙñÑ\(\backslash\)s]+\$/"{}};}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \$cadena\ =\ htmlspecialchars(strip\_tags(trim((\textcolor{keywordtype}{string})\ \$cadena)));}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Si\ es\ olbigatorio\ se\ comprueba\ si\ está\ vacío,\ si\ no\ es\ obligatorio,\ no\ es\ necesario}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$obligatorio\ ==\ 1)\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarNoVacio(\$cadena);}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Comprobación\ de\ que\ la\ cadena\ introducida\ coincide\ con\ la\ sintaxis\ permitida\ del\ patrón}}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!preg\_match(\$patron\_texto,\ \$cadena)\ \&\&\ !empty(\$cadena))\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ Solo\ se\ admiten\ letras."{}};}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \$mensajeError\ .=\ self::comprobarMaxTamanio(\$cadena,\ \$maxTamanio);}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \$mensajeError\ .=\ self::comprobarMinTamanio(\$cadena,\ \$minTamanio);}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00073\ \ \ \ \ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \textcolor{comment}{//\ Función\ para\ comprobar\ un\ campo\ AlfaNumerico}}
\DoxyCodeLine{00076\ \textcolor{comment}{//\ Return\ nada\ si\ es\ correcto,\ si\ hay\ errores\ devuelve\ un\ mensaje\ de\ error}}
\DoxyCodeLine{00077\ \textcolor{comment}{//\ Si\ es\ un\ 1\ es\ obligatorio,\ si\ es\ un\ 0\ no\ lo\ es}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ comprobarAlfaNumerico(\$cadena,\ \$maxTamanio\ =\ 1000,\ \$minTamanio\ =\ 1,\ \$obligatorio\ =\ 0)\ \{\ \ \textcolor{comment}{//AÑADIDOS\ VALORES\ POR\ DEFECTO\ Y\ MEJORADA\ LA\ RESPUESTA}}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \$cadena\ =\ htmlspecialchars(strip\_tags(trim((\textcolor{keywordtype}{string})\ \$cadena)));}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Si\ es\ obligatorio\ se\ hace\ la\ comprobación\ de\ que\ no\ está\ vacío}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$obligatorio\ ==\ 1\ \&\&\ \$cadena\ !=\ \textcolor{charliteral}{'0'})\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarNoVacio(\$cadena);}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \$mensajeError\ .=\ self::comprobarMaxTamanio(\$cadena,\ \$maxTamanio);}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \$mensajeError\ .=\ self::comprobarMinTamanio(\$cadena,\ \$minTamanio);}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00104\ \ \ \ \ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \textcolor{comment}{//\ Función\ para\ comprobar\ si\ es\ un\ campo\ entero}}
\DoxyCodeLine{00107\ \textcolor{comment}{//\ Return\ null\ es\ correcto,\ si\ no\ muestra\ el\ mensaje\ de\ error}}
\DoxyCodeLine{00108\ \textcolor{comment}{//\ Si\ es\ un\ 1\ es\ obligatorio,\ si\ es\ un\ 0\ no\ lo\ es}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ comprobarEntero(\$integer,\ \$max\ =\ PHP\_INT\_MAX,\ \$min\ =\ -\/PHP\_INT\_MAX,\ \$obligatorio\ =\ 0)\ \{\ \ \textcolor{comment}{//AÑADIDOS\ VALORES\ POR\ DEFECTO\ Y\ AHORA\ DETECTA\ EL\ 0}}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$obligatorio\ ==\ 1\ \&\&\ \$integer\ !=\ \textcolor{charliteral}{'0'})\ \{}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarNoVacio(\$integer);}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\$obligatorio\ ==\ 0\ \&\&\ \$integer\ !=\ \textcolor{keyword}{null})\ ||\ (\$obligatorio\ ==\ 1\ \&\&\ empty(\$mensajeError)))\ \{\textcolor{comment}{//COMPROBAMOS\ QUE\ SI\ ES\ OPCIONAL,\ NO\ ESTÉ\ VACÍO\ Y\ SI\ ES\ OBLIGATORIO\ QUE\ NO\ HAYA\ GUARDADO\ UN\ MENSAJE\ DE\ ERROR\ ANTERIOR\ (QUE\ EL\ CAMPO\ NO\ ESTÉ\ VACÍO)\ \ }}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \$integer\ =\ str\_replace(\textcolor{charliteral}{'.'},\ \textcolor{charliteral}{','},\ \$integer);\ \textcolor{comment}{//SI\ SE\ HA\ INTRODUCIDO\ UN\ NÚMERO\ CON\ '.'(FLOAT),\ SUSTITUIMOS\ EL\ PUNTO\ POR\ UNA\ COMA\ PARA\ QUE\ SEA\ UN\ STRING}}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_numeric(\$integer))\ \{\ \textcolor{comment}{//SI\ NO\ ES\ UN\ NÚMERO\ O\ STRING\ NUMÉRICO}}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}El\ campo\ no\ es\ un\ entero.\ "{}};}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$integer\ >\ \$max)\ \{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \$mensajeError\ .\ \textcolor{stringliteral}{"{}El\ número\ no\ puede\ ser\ mayor\ que\ "{}}\ .\ \$max\ .\ \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$integer\ <\ \$min)\ \{}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \$mensajeError\ .\ \textcolor{stringliteral}{"{}El\ número\ no\ puede\ ser\ menor\ que\ "{}}\ .\ \$min\ .\ \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00146\ \ \ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \textcolor{comment}{//\ Función\ para\ comprobar\ si\ es\ un\ campo\ float}}
\DoxyCodeLine{00149\ \textcolor{comment}{//\ Return\ null\ es\ correcto,\ si\ no\ muestra\ el\ mensaje\ de\ error}}
\DoxyCodeLine{00150\ \textcolor{comment}{//\ Si\ es\ un\ 1\ es\ obligatorio,\ si\ es\ un\ 0\ no\ lo\ es}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ comprobarFloat(\$float,\ \$max\ =\ PHP\_FLOAT\_MAX,\ \$min\ =\ -\/PHP\_FLOAT\_MAX,\ \$obligatorio\ =\ 0)\ \{\ \ \textcolor{comment}{//AÑADIDOS\ VALORES\ POR\ DEFECTO\ Y\ AHORA\ DETECTA\ 0}}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$obligatorio\ ==\ 1\ \&\&\ \$float\ !=\ \textcolor{charliteral}{'0'})\ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarNoVacio(\$float);}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\$obligatorio\ ==\ 0\ \&\&\ \$float\ !=\ \textcolor{keyword}{null})\ ||\ (\$obligatorio\ ==\ 1\ \&\&\ empty(\$mensajeError)))\ \{\textcolor{comment}{//COMPROBAMOS\ QUE\ SI\ ES\ OPCIONAL,\ NO\ ESTÉ\ VACÍO\ Y\ SI\ ES\ OBLIGATORIO\ QUE\ NO\ HAYA\ GUARDADO\ UN\ MENSAJE\ DE\ ERROR\ ANTERIOR\ (QUE\ EL\ CAMPO\ NO\ ESTÉ\ VACÍO)\ \ \ }}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_numeric(\$float))\ \{\textcolor{comment}{//SI\ NO\ ES\ UN\ NÚMERO\ O\ STRING\ NUMÉRICO}}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}El\ campo\ no\ es\ un\ decimal.\ (Debe\ llevar\ punto(.)\ entre\ la\ parte\ entera\ y\ la\ parte\ decimal)"{}};}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$float\ >\ \$max)\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \$mensajeError\ .\ \textcolor{stringliteral}{"{}El\ número\ no\ puede\ ser\ mayor\ que\ "{}}\ .\ \$max\ .\ \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$float\ <\ \$min)\ \{}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \$mensajeError\ .\ \textcolor{stringliteral}{"{}El\ número\ no\ puede\ ser\ menor\ que\ "{}}\ .\ \$min\ .\ \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00184\ \ \ \ \ \}}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \textcolor{comment}{//\ Función\ para\ comprobar\ si\ es\ un\ correo\ electronico}}
\DoxyCodeLine{00187\ \textcolor{comment}{//\ Return\ nada\ si\ es\ correcto,\ si\ hay\ errores\ devuelve\ un\ mensaje\ de\ error}}
\DoxyCodeLine{00188\ \textcolor{comment}{//\ Si\ es\ un\ 1\ es\ obligatorio,\ si\ es\ un\ 0\ no\ lo\ es}}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ validarEmail(\$email,\ \$obligatorio\ =\ 0)\ \{\ \textcolor{comment}{//ELIMINADoS\ MAX\ Y\ MIN,\ IMPLEMENTACION\ DE\ PARAMETRO\ POR\ DEFECTO\ Y\ MEJORADA\ \ LA\ RESPUESTA}}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Compruebo\ si\ está\ vacío\ cuadno\ es\ obligatorio}}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$obligatorio\ ==\ 1)\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarNoVacio(\$email);}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Comprobación\ de\ que\ la\ sintaxis\ del\ correo\ introducido\ es\ correcta}}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!filter\_var(\$email,\ FILTER\_VALIDATE\_EMAIL)\ \&\&\ !empty(\$email))\ \{\ \textcolor{comment}{//HE\ SIMPLIFICADO\ ESTO}}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ Formato\ de\ correo\ incorrecto(Ejemplo:\ tunombre@hotmail.com)."{}};}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00216\ \ \ \ \ \}}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \textcolor{comment}{//\ Función\ para\ comprobar\ si\ es\ una\ url,\ local\ o\ no}}
\DoxyCodeLine{00219\ \textcolor{comment}{//\ Devuelve\ null\ si\ es\ correcto,\ sino\ muestra\ el\ mensaje\ de\ error}}
\DoxyCodeLine{00220\ \textcolor{comment}{//\ Si\ el\ parámetro\ \$obligatorio\ es\ un\ 1\ es\ obligatorio,\ si\ es\ un\ 0\ es\ opcional}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00232\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ validarURL(\$url,\ \$obligatorio\ =\ 0)\ \{\ \textcolor{comment}{//MEJORADA\ LA\ RESPUESTA\ Y\ ASIGNADO\ VALOR\ POR\ DEFECTO}}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$obligatorio\ ==\ 1)\ \{}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarNoVacio(\$url);}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!filter\_var(\$url,\ FILTER\_VALIDATE\_URL)\ \&\&\ !empty(\$url))\ \{}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}Formato\ incorrecto\ de\ URL."{}};}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00241\ \ \ \ \ \}}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00254\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ validarFecha(\$fecha,\ \$fechaMaxima\ =\ \textcolor{stringliteral}{'01/01/2200'},\ \$fechaMinima\ =\ \textcolor{stringliteral}{"{}01/01/1900"{}},\ \$obligatorio\ =\ 0)\ \{\ \textcolor{comment}{//REDISEÑO\ TOTAL\ Y\ AÑADIDOS\ PARAMETROS\ INICIALES}}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \$fechaMaxima\ =\ strtotime(\$fechaMaxima);\ \textcolor{comment}{//PASAR\ A\ TIMESTAMP\ PARA\ PODER\ OPERAR}}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \$fechaMinima\ =\ strtotime(\$fechaMinima);}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$obligatorio\ ==\ 1)\ \{}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarNoVacio(\$fecha);}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \$fechaFormateada\ =\ strtotime(\$fecha);\ \ \textcolor{comment}{//CREAR\ FECHA\ PARA\ TRABAJAR\ CON\ LAS\ FUNCIONES\ DE\ PHP}}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_bool(\$fechaFormateada)\ \&\&\ !empty(\$fecha))\ \{}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ Formato\ incorrecto\ de\ fecha\ (Año-\/Mes-\/dia)\ (2000-\/01-\/01)."{}};}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!empty(\$fecha)\ \&\&\ (\$fechaFormateada\ <\ \$fechaMinima)\ ||\ (\$fechaFormateada\ >\ \$fechaMaxima))\ \{}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ Por\ favor\ introduzca\ una\ fecha\ entre\ "{}}\ .\ date(\textcolor{stringliteral}{'d/m/Y'},\ \$fechaMinima)\ .\ \textcolor{stringliteral}{"{}\ y\ "{}}\ .\ date(\textcolor{stringliteral}{'d/m/Y'},\ \$fechaMaxima)\ .\ \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00271\ \ \ \ \ \}}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00284\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ validarDni(\$dni,\ \$obligatorio\ =\ 0)\ \{\ \textcolor{comment}{//AÑADIDO\ VALOR\ POR\ DEFECTO\ Y\ MEJORADA\ LA\ SALIDA}}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \$letra\ =\ substr(\$dni,\ -\/1);}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \$numeros\ =\ substr(\$dni,\ 0,\ -\/1);}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$obligatorio\ ==\ 1)\ \{}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarNoVacio(\$dni);}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_numeric(\$letra)\ \&\&\ is\_numeric(\$numeros))\ \{}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((substr(\textcolor{stringliteral}{"{}TRWAGMYFPDXBNJZSQVHLCKE"{}},\ \$numeros\ \%\ 23,\ 1)\ !=\ \$letra\ ||\ strlen(\$letra)\ !=\ 1\ ||\ strlen(\$numeros)\ !=\ 8)\ \&\&\ !empty(\$dni))\ \{}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ El\ DNI\ no\ es\ válido."{}};}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!empty(\$dni))\ \{}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ El\ DNI\ no\ es\ válido."{}};}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00301\ \ \ \ \ \}}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{comment}{//\ Valida\ el\ código\ postal,\ si\ es\ opcional\ da\ por\ válido\ que\ sea\ correcto\ o\ este\ vacío,\ si\ es\ obligatorio\ solo\ da\ por\ válido\ que\ esté\ correcto}}
\DoxyCodeLine{00304\ }
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ validarCp(\$cp,\ \$obligatorio\ =\ 0)\ \{\ \ \textcolor{comment}{//AÑADIDO\ PARAMETRO\ INDEFINIDO\ Y\ SALIDA\ MEJORADA}}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$obligatorio\ ==\ 1)\ \{}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarNoVacio(\$cp);}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!preg\_match(\textcolor{stringliteral}{'/\string^[0-\/9]\{5\}\$/i'},\ \$cp)\ \&\&\ !empty(\$cp))\ \{}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ El\ código\ postal\ no\ es\ válido."{}};}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00326\ \ \ \ \ \}}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{comment}{//\ Valida\ el\ password,\ comprueba\ longitud\ y\ si\ al\ menos\ contiene\ una\ mayúscula\ y\ un\ número,\ si\ es\ opcional\ da\ por\ válido\ que\ sea\ correcto\ o\ este\ vacío,\ si\ es\ obligatorio\ solo\ da\ por\ válido\ que\ esté\ correcto}}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ validarPassword(\$passwd,\ \$maximo\ =\ 16,\ \$minimo\ =\ 2,\ \$tipo\ =\ 3,\ \$obligatorio\ =\ 1)\ \{\ \ \textcolor{comment}{//CAMBIADO\ ORDEN\ DE\ LOS\ PARAMETROS,\ AÑADIDOS\ PARAMETROS\ PREDEFINIDOS\ Y\ MEJORADA\ LA\ RESPUESTA}}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$obligatorio\ ==\ 1)\ \{}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarNoVacio(\$passwd);}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strlen(\$passwd)\ <\ \$minimo\ \&\&\ !empty(\$passwd))\ \{}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ La\ contraseña\ debe\ ser\ de\ al\ menos\ "{}}\ .\ \$minimo\ .\ \textcolor{stringliteral}{"{}\ caracteres."{}};}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strlen(\$passwd)\ >\ \$maximo\ \&\&\ !empty(\$passwd))\ \{}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ La\ contraseña\ debe\ tener\ como\ maximo\ "{}}\ .\ \$maximo\ .\ \textcolor{stringliteral}{"{}\ caracteres."{}};}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!empty(\$passwd)\ \&\&\ \$mensajeError\ ==\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\$tipo)\ \{}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 1:}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarAlfabetico(\$passwd,\ \$maximo,\ \$minimo,\ \$obligatorio);}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 2:}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarAlfaNumerico(\$passwd,\ \$maximo,\ \$minimo,\ \$obligatorio);}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((!preg\_match(\textcolor{stringliteral}{"{}\`{}[A-\/Z]`"{}},\ \$passwd)\ ||\ !preg\_match(\textcolor{stringliteral}{"{}\`{}[0-\/9]`"{}},\ \$passwd))\ \&\&\ !empty(\$passwd))\ \{}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ .=\ \textcolor{stringliteral}{"{}\ La\ contraseña\ debe\ contener\ una\ mayúscula\ y\ un\ número."{}};}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00373\ \ \ \ \ \}}
\DoxyCodeLine{00374\ }
\DoxyCodeLine{00375\ \textcolor{comment}{//\ Función\ para\ validar\ si\ no\ esta\ vacio}}
\DoxyCodeLine{00376\ \textcolor{comment}{//\ Return\ null\ si\ está\ vacío\ el\ mensajeError,\ cadena\ con\ error\ si\ es\ que\ lo\ hay\ \ }}
\DoxyCodeLine{00377\ \textcolor{comment}{//\ Función\ para\ validar\ si\ no\ esta\ vacio}}
\DoxyCodeLine{00378\ \textcolor{comment}{//\ Return\ false\ esta\ vacio,\ true\ no\ esta\ vacio}}
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00391\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ comprobarNoVacio(\$cadena)\ \{}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \$cadena\ =\ htmlspecialchars(strip\_tags(trim(\$cadena)));}
\DoxyCodeLine{00394\ }
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (empty(\$cadena))\ \{}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ Campo\ vacío."{}};}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00399\ \ \ \ \ \}}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00401\ \textcolor{comment}{//\ Función\ para\ tamaño\ maximo}}
\DoxyCodeLine{00402\ \textcolor{comment}{//\ Si\ tamaño\ es\ 0\ significa\ que\ no\ tiene\ limite}}
\DoxyCodeLine{00403\ \textcolor{comment}{//\ Return\ false\ no\ es\ correcto,\ true\ es\ correcta}}
\DoxyCodeLine{00404\ }
\DoxyCodeLine{00417\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ comprobarMaxTamanio(\$cadena,\ \$tamanio)\ \{}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strlen(\$cadena)\ >\ \$tamanio)\ \{}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ El\ tamaño\ máximo\ es\ de\ "{}}\ .\ \$tamanio\ .\ \textcolor{stringliteral}{"{}\ caracteres."{}};}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00423\ \ \ \ \ \}}
\DoxyCodeLine{00424\ }
\DoxyCodeLine{00425\ \textcolor{comment}{//\ Función\ para\ tamaño\ minimo}}
\DoxyCodeLine{00426\ \textcolor{comment}{//\ Si\ el\ tamaño\ es\ 0\ significa\ que\ no\ tiene\ limite}}
\DoxyCodeLine{00427\ \textcolor{comment}{//\ Return\ false\ no\ es\ correcto,\ true\ es\ correcta}}
\DoxyCodeLine{00428\ }
\DoxyCodeLine{00441\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ comprobarMinTamanio(\$cadena,\ \$tamanio)\ \{}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strlen(\$cadena)\ <\ \$tamanio\ \&\&\ strlen(\$cadena)\ >\ 0)\ \{\ \textcolor{comment}{//AÑADIDA\ SEGUNDA\ COMPROBACIÓN.\ Para\ que\ cuando\ el\ campo\ esté\ vacío\ no\ muestre\ este\ mensaje,\ sólo\ cuando\ haya\ mínimo\ 1\ caracter\ para\ advertir\ del\ tamaño\ mínimo}}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ El\ tamaño\ mínimo\ es\ de\ "{}}\ .\ \$tamanio\ .\ \textcolor{stringliteral}{"{}\ caracteres."{}};}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00447\ \ \ \ \ \}}
\DoxyCodeLine{00448\ }
\DoxyCodeLine{00459\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ validarElementoEnLista(\$elementoElegido,\ \$aOpciones)\ \{\ \ \ \textcolor{comment}{//NO\ TIENE\ SENTIDO\ HACER\ UNA\ LISTA\ NO\ OBLIGATORIA}}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};\ \textcolor{comment}{//Inicializa\ el\ mensaje\ de\ error\ a\ null.}}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!in\_array(\$elementoElegido,\ \$aOpciones))\ \{}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}\ El\ elemento\ no\ se\ encuentra\ entre\ los\ posibles\ valores."{}};}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;\ \textcolor{comment}{//Devuelve\ el\ mensaje\ de\ error.}}
\DoxyCodeLine{00466\ \ \ \ \ \}}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00482\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ validarTelefono(\$tel,\ \$obligatorio\ =\ 0)\ \{\ \textcolor{comment}{//AÑADIDO\ PARAMETRO\ POR\ DEFECTO,\ MEJORADA\ LA\ FUNCIONALIDAD\ Y\ LA\ SALIDA}}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \$patron\ =\ \textcolor{stringliteral}{"{}/\string^[6|7|9][0-\/9]\{8\}\$/"{}};}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$obligatorio\ ==\ 1)\ \{}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarNoVacio(\$tel);}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!preg\_match(\$patron,\ \$tel)\ \&\&\ !empty(\$tel))\ \{}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ .=\ \textcolor{stringliteral}{"{}\ El\ telefono\ debe\ comenzar\ por\ 6,7\ o\ 9\ y\ a\ continuación\ 8\ dígitos\ del\ 0\ al\ 9."{}};}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00492\ \ \ \ \ \}}
\DoxyCodeLine{00493\ }
\DoxyCodeLine{00508\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ validarNombreArchivo(\$nombreArchivo,\ \$aExtensiones,\ \$maxTamanio\ =\ 150,\ \$minTamanio\ =\ 4,\ \$obligatorio\ =\ 0)\ \{}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Validación\ del\ texto\ del\ nombre\ del\ archivo.}}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \$mensajeError\ =\ self::comprobarAlfaNumerico(\$nombreArchivo,\ \$maxTamanio,\ \$minTamanio,\ \$obligatorio);}
\DoxyCodeLine{00511\ }
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Si\ el\ nombre\ de\ archivo\ no\ está\ vacío\ (es\ decir,\ se\ ha\ enviado\ uno),}}
\DoxyCodeLine{00513\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ comprueba\ si\ la\ extensión\ está\ entre\ las\ admitidas.}}
\DoxyCodeLine{00514\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ En\ el\ caso\ que\ el\ campo\ fuese\ obligatorio,\ ya\ se\ habría\ validado\ en\ la}}
\DoxyCodeLine{00515\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ función\ comprobarAlfaNumerico.}}
\DoxyCodeLine{00516\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!empty(\$nombreArchivo))\{}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \ \ \ \ \$sExtension\ =\ substr(\$nombreArchivo,\ strpos(\$nombreArchivo,\ \textcolor{charliteral}{'.'})\ +\ 1);}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!in\_array(\$sExtension,\ \$aExtensiones))\ \{}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$mensajeError\ =\ \textcolor{stringliteral}{"{}El\ archivo\ no\ tiene\ una\ extensión\ válida.\ Sólo\ se\ admite\ "{}}.implode(\textcolor{stringliteral}{',\ '},\ \$aExtensiones).\textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$mensajeError;}
\DoxyCodeLine{00524\ \ \ \ \ \}}
\DoxyCodeLine{00525\ \}?>}

\end{DoxyCode}
